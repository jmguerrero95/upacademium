<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>ERP::INGENIUM::ENTERPRISE RESOURCE PLANNING</title>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<script>


var useBSNns = true;

$(document).ready(
		function()
		{
			$('#dock2').Fisheye(
				{
					maxWidth: 60,
					items: 'a',
					itemsText: 'span',
					container: '.dock-container2',
					itemWidth: 40,
					proximity: 80,
					alignment : 'left',
					valign: 'bottom',
					halign : 'center'
				}
			)
		}
	);


window.status='Diseñado y Desarrollado por Omnisoft Cia Ltda http://www.omnisoft.cc';


</script>

<link href='../lib/autosuggest2/css/autosuggest_inquisitor.css' rel="stylesheet" type="text/css">
<link href='../lib/aw/styles/xp/aw.css'rel="stylesheet" type="text/css">
<link href='../lib/grid/styles/omnisoftGrid.css'rel="stylesheet" type="text/css">

<script language="javascript1.2" src="../lib/zpmenu/utils/utils.js"></script>
<script language="javascript1.2" src="../lib/zpmenu/src/menu.js"></script>

<script language="javascript" src= "../lib/tools/cookies.js" ></script>
<script language='javascript' src="../lib/tools/omnisoftTools.js"></script>
<script language="javascript" src= "../lib/aw/lib/aw.js" ></script>
<link href="../lib/styles/omnisoft.css" rel="stylesheet" type="text/css">
<link href="../lib/tools/omnisoftValidar.css" rel="stylesheet" type="text/css">
<script language='javascript' src="../lib/tools/omnisoftValidar.js"></script>
<script language="javascript" src="../lib/mask/event-listener.js"></script>
<script language="javascript" src="../lib/mask/masked-input.js"></script>
<script language="javascript" src="../lib/mask/enter-as-tab.js"></script>
<script language="javascript" src="../lib/mask/auto-tab.js"></script>
<script language='javascript' src="../lib/grid/omnisoftDB.js"></script>
<script language='javascript' src="../lib/combo/omnisoftComboBox.js"></script>

<link rel="stylesheet" type="text/css" media="all" href="../lib/jscalendar/calendar-blue2.css" title="win2k-cold-1" />
  <script type="text/javascript" src="../lib/jscalendar/calendar.js"></script>
  <script type="text/javascript" src="../lib/jscalendar/lang/calendar-en.js"></script>
  <script type="text/javascript" src="../lib/jscalendar/calendar-setup.js"></script>

<script language="javascript" src="../lib/autosuggest2/js/bsn.AutoSuggest_2.1_comp_grid.js"> </script>
<script language="javascript" src="../lib/autosuggest2/js/bsn.AutoSuggest_2.1_comp.js"> </script>

<script language="javascript" src= "../lib/grid/omnisoftGridDetail.js" ></script>

<script>
function seleccionarTitulo() {

   omniObj.grid.fields[1].list[0]='SELECT mat.serial_mat,  nombre_mat FROM carrera AS car, especialidad AS esp, materia AS mat WHERE car.serial_car = esp.serial_car AND esp.serial_esp = mat.serial_esp AND esp.serial_esp ='+document.PaginaDatos.serial_esp.value;
//prompt('test' ,omniObj.grid.fields[1].list[0]);

}

function seleccionarEspecialidad() {
   cserial_car.objDBComando.sqlCommand='select car.serial_car,concat(codigo_car,\' \',nombre_car) as carrera from especialidad as esp,carrera as car WHERE car.serial_car = esp.serial_car and esp.serial_esp ='+document.PaginaDatos.serial_esp.value;

                          cserial_car.objDBComando.executeQuery();
}

</script>

</head>


<body >

<form method="POST" enctype="multipart/form-data"  name="PaginaDatos" onClick="highlight(event)" onKeyUp="highlight(event)">
<input name="action" type="hidden" id="action">
<input name="serial_per" type="hidden" id="serial_per" class="hidden" >


  <table width="780" border="0" cellspacing="0" cellpadding="0" >
    <tr  >
      <td width="226" height="52"  class="ingeniumtoptitle"></td>
      <td width="593"  class="maintoptitle fonttitle"><center>
        ACADEMICO<br>
MALLAS ACADEMICAS
      </center></td>
      <td width="142"  class="logotoptitle"></td>
    </tr>
    <tr>
      <td height="30" colspan="3"> <table width="921" height="237" border="1" cellpadding="0" cellspacing="0"  bordercolordark="#FFFFFF" bordercolorlight="#000000"class="formtable">
          <tr>
            <td width="177" height="24"  class="inputtitle">C&oacute;digo :</td>
            <td colspan="3"><img src="../images/camporequerido.gif"><input name="codigo_per" type="text" id="codigo_per" size="8" maxlength="8" class="string"></td>
          </tr>
          <tr>
            <td height="24"  class="inputtitle">Nombre Malla :</td>
            <td ><img src="../images/camporequerido.gif"><input name="nombre_per" type="text" id="nombre_per" size="80" maxlength="80" class="string"></td>
            <td height="24"  class="inputtitle">Sede : </td>
            <td ><script>                var cserial_ciu=new omnisoftComboBox('cserial_ciu','serial_ciu','select serial_ciu,nombre_ciu from ciudad where serial_ciu =119 or serial_ciu = 68 or  serial_ciu = 102 order by codigo_ciu desc','105px',true,getURLParam('serial_ciu'));
                     cserial_ciu.show();
	            </script></td>
          </tr>
          <tr>
            <td height="24"  class="inputtitle">Area : </td>
            <td colspan="3" ><script>                var cserial_are=new omnisoftComboBox('cserial_are','serial_are','select serial_are,concat(codigo_are,\' \',nombre_are) as area from area order by codigo_are','265px',true,getURLParam('serial_are'));
                     cserial_are.show();
	            </script></td>
          </tr>
          <tr>
            <td height="24"  class="inputtitle">Especialidad : </td>
            <td colspan="3" ><script>                var cserial_esp=new omnisoftComboBox('cserial_esp','serial_esp','select serial_esp,concat(codigo_esp,\' \',nombre_esp) as especialidad from especialidad order by codigo_esp','265px',true,getURLParam('serial_esp'));
                     cserial_esp.show();
					 document.PaginaDatos.serial_esp.onchange=seleccionarEspecialidad;
					 document.PaginaDatos.serial_esp.onclick=seleccionarEspecialidad;
					 
	            </script></td>
          </tr>
          <tr>
            <td height="24"  class="inputtitle">Titulo : </td>
            <td width="385" ><script>                var cserial_car=new omnisoftComboBox('cserial_car','serial_car','select serial_car,concat(codigo_car,\' \',nombre_car) as carrera from carrera order by codigo_car','470px',true,getURLParam('serial_car'));
                     cserial_car.show();
					 document.PaginaDatos.serial_car.onchange=seleccionarTitulo;
					 document.PaginaDatos.serial_car.onclick=seleccionarTitulo;

	            </script></td>
            <td width="164" class="inputtitle">Total Creditos  : </td>
            <td width="185" ><input name="totalcreditostitulo_per" type="text" id="totalcreditostitulo_per" size="8" maxlength="8" class="integer"></td>
          </tr>
          <tr>
            <td height="21"  class="inputtitle">Fecha Inicio :</td>
            <td ><img src="../images/camporequerido.gif"><input name="fecini_per" type="text" id="fecini_per" size="10" maxlength="10" class="date" onBlur="esconderToolTip()"></td>
            <td  class="inputtitle">Fecha Fin :</td>
            <td ><img src="../images/camporequerido.gif">
            <input name="fecfin_per" type="text" id="fecfin_per" size="10" maxlength="10" class="date" onBlur="esconderToolTip()"></td>
          </tr>


		  <tr><td height="23"  class="inputtitle">Activo :</td>
            <td colspan="3" ><img src="../images/camporequerido.gif">
              <select name="activo_per" id="activo_per" class="combobox">
                <option value="SI">SI</option>
                <option value="NO">NO</option>
              </select></td>
          <tr>
            <td height="23"  class="inputtitle">Observaciones :</td>
            <td colspan="3" ><input name="observaciones_per" type="text" id="observaciones_per" size="80" maxlength="100" class="emptystring"></td>
          </tr>


          <tr>
            <td height="40" colspan=7><script>
   omnisoftLoadData(document.PaginaDatos);

   if (getURLParam('action')=='insert')
      document.PaginaDatos.fecini_per.value=fechaSistema();

    var serial_per=getURLParam('serial_per');

   //alert(document.PaginaDatos.serial_per.value);
    var sql='SELECT dmm.serial_dmm, nombre_mat, numerocreditos_dmm, mat.serial_mat, per.serial_per FROM detallemallamateria AS dmm, periodoacademico AS per, materia AS mat WHERE mat.serial_mat = dmm.serial_mat AND per.serial_per = dmm.serial_per  and per.serial_per=masterkey';

    omniObj=new omnisoftGridDetail('omniObj','serial_per',serial_per,'detallemallamateria','serial_dmm',sql,document.PaginaDatos);
    omniObj.addColumn('Serial','serial_dmm', 1,'hidden','','middle','');

	 omniObj.addColumn('Materia','nombre_mat', 25,'combobox',Array('SELECT mat.serial_mat,  nombre_mat FROM carrera AS car, especialidad AS esp, materia AS mat WHERE car.serial_car = esp.serial_car AND esp.serial_esp = mat.serial_esp AND esp.serial_esp ='+document.PaginaDatos.serial_esp.value,'serial_mat','nombre_mat'),'middle','');



	 //alert(document.PaginaDatos.serial_esp.value);
	 
	 omniObj.addColumn('Numero Creditos','numerocreditos_dmm', 9,'string','','middle','');
	 omniObj.addColumn('serial materia','serial_mat', 1,'hidden','','middle','','1');


  omniObj.showGrid('omniObj',12,308,1020,'menu','#FF9900');


            </script></td>
          </tr>
        </table></td>
    </tr>
    <tr >
      <td height="30" colspan="3" align="center"> <table width="805" border="0" cellpadding="0" cellspacing="0"  >
          <tr>
            <td width="50" >
<div align="center" id="divGuardar" style="visibility:visible"><a href="#"  onClick="javascript:omnisoftGrabar()"><img src="../images/baceptar.jpg" width="150" height="30" border="0"></a></div></td>
            <td width="690"></td>
            <td width="56"><div align="center" id="divCancelar" style="visibility:visible"><a href="javascript:omnisoftCancelar()"><a href="javascript:window.close();"><img src="../images/bcancelar.jpg" width="150" height="30" border="0"></a></div></td>
          </tr>
        </table></td>
    </tr>
  </table>

</form>
<script>
//	omnisoftLoadData(document.PaginaDatos);
//	OmnisoftPerfilUsuarioFormulario();
</script>
</body>
</html>